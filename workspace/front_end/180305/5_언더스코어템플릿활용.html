<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>영화 목록</title>
</head>
<body>
<h1>영화 목록</h1>
<table border="1">
    <thead>
        <tr>
            <th>영화명</th>
            <th>감독</th>
            <th>장르</th>
        </tr>
    </thead>
    <tbody>

    </tbody>
<!--

 그냥 템플릿코드를 작성하면 브라우저가 마크업으로
 인식해서 렌더링하기 때문에 script요소안에 작성

 그런데, type을 지정하지 않으면 text/javascript로
 인식하기 때문에 type=text/template으로 작성

 -->
<script type="text/template" id="movieTmp">
    <% _.each(list,function(movie){ %>
    <tr>
        <th><%=movie.title%></th>
        <td><%=movie.director%></td>
        <td><%=movie.genre%></td>
    </tr>
    <% }) %>
</script>

 <!--
    <% for(Movie movie : list) { %>
    <tr>
        <th><%=movie.title%></th>
        <td><%=movie.director%></td>
        <td><%=movie.genre%></td>
    </tr>
    <% }) %>
-->

</table>
<script src="js/jquery.js"></script>
<script src="js/underscore-min.js"></script>
<script>

    var movies = [
        {"title":"궁합","director":"홍창표","genre":"코미디"},
        {"title":"리틀 포레스트","director":"임순례","genre":"드라마"},
        {"title":"블랙펜서","director":"라이언 쿠글러","genre":"SF"},
        {"title":"월요일이 사라졌다","director":"토미 위르콜라","genre":"액션"},
        {"title":"셰이프 오브 워터","director":"기예르모 델 토로","genre":"드라마"},
        {"title":"나미야 잡화점의 기적","director":"히로키 류이치","genre":"판타지"}
    ];


    var tmp = _.template($("#movieTmp").html());

    var markup = tmp({"list":movies});

    $("tbody").html(markup);

</script>
</body>
</html>