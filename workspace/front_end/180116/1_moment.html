<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>moment 라이브러리</title>
    <style>
    </style>
</head>
<body>
<h1>???? 년 ?? 월 ?? 일 ??:??:??</h1>
<h2>할 일 목록</h2>
<!-- HTML5에 추가된 시간요소-->
<div>
    <time datetime="2016-05-15T14:23:24+09:00">??</time>
</div>
<div>
    <time datetime="2018-01-16T10:14:59+09:00">??</time>
</div>
<div>
    <time datetime="2018-01-11T10:14:59+09:00">??</time>
</div>

<script src="js/jquery.js"></script>
<!-- moment library import -->
<script src="js/moment-with-locales.js"></script>
<script>
    /*
    *   jquery 는 (순수) 자바스크립트에 비해
    *   1. 요소의 선택이 쉽다
    *       javascript : document.getElementsByTagName("h1")[0]
    *       jquery $("h1")
    *   2. 요소의 컨텐츠 변경이 쉽다.
    *   3. 이펙트가 쉽다.
    *   4. ajax 가 쉽다.
    *
    *   momentjs 는 날짜 관련 메서드가 많음음
   *
    */

    function getNowDate() {
        // 현재 시간(순수 자바스크립트)
        // var now = new Date();

        // 현재 시간(momentjs)
        var now = moment();

        //년도
        var year = now.year;
        var month = now.moment;

        var fullTime = now.format("YYYY년 M월 D일 HH:mm:ss");
        console.log(fullTime);
        return fullTime;
    }

    setInterval(function () {
        // $("h1").text(getNowDate);
    }, 1000);


    $.each($('time'), function (a, b) {

        // 0. moment 를 한국으로
        moment.locale("ko");

        //1. time요소의 datetime 속성을 얻어옴
        var datetime = $("time").eq(a).attr("datetime");

        // 2. moment 객체를 해당 날짜로 생성
        var thatTime = moment(datetime);

        // 3. fromNow()를 이용하여 그때부터 지금까지를
        // 문자열로 얻어옴
        var fromNow = thatTime.fromNow();

        //4. 해당 time요소에 fromNow를 문자열로 출력
        $("time").eq(a).text(fromNow);

    })
</script>
</body>
</html>